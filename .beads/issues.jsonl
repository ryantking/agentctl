{"id":"feat-memory-base-commands-0pm","title":"Fix sync command to handle missing project.md gracefully","description":"If .agent/project.md doesn't exist, sync to AGENTS.md and CLAUDE.md should still work but skip project content. Currently might fail or show empty sections. Add better error handling. Reference internal/cli/rules/sync.go:syncToAGENTSMD line 222","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T23:09:54.295893-05:00","updated_at":"2025-12-14T08:55:38.342376-05:00","closed_at":"2025-12-14T08:55:38.342376-05:00"}
{"id":"feat-memory-base-commands-0rt","title":"Add tests and documentation for rules command tree","description":"Add comprehensive tests for all rules subcommands. Test frontmatter parsing, file operations, sync to different formats. Document rules command tree in README. Create examples of rule mdc files. Document frontmatter schema. Parent: feat-memory-base-commands-cw0","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:39:51.853563-05:00","updated_at":"2025-12-13T16:24:31.575581-05:00","closed_at":"2025-12-13T16:24:31.575581-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-0rt","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:40:00.727928-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-18m","title":"Ensure SDK failures provide helpful error messages","description":"When SDK calls fail, provide clear actionable errors. Missing API key: show how to get one and where to set ANTHROPIC_API_KEY. Network errors: suggest checking connection. Rate limits: explain and suggest retry. Auth errors: suggest checking key validity. No silent fallbacks or unhelpful generic errors.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T09:33:25.370485-05:00","updated_at":"2025-12-14T09:33:25.370485-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-18m","depends_on_id":"feat-memory-base-commands-mp5","type":"blocks","created_at":"2025-12-14T09:33:42.89717-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-1gu","title":"Implement agentctl rules init command","description":"Create rules init subcommand. Copies default rules from agentctl's rules/ directory to .agent/rules/. Generates .agent/project.md using claude CLI (similar to current repo indexing). Creates .agent/research/ directory. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T11:36:18.419874-05:00","updated_at":"2025-12-13T12:08:28.705614-05:00","closed_at":"2025-12-13T12:08:28.705614-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-1gu","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:36:27.660834-05:00","created_by":"ryan"},{"issue_id":"feat-memory-base-commands-1gu","depends_on_id":"feat-memory-base-commands-591","type":"blocks","created_at":"2025-12-13T11:36:32.797815-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-1v4","title":"Replace claude CLI with anthropic-sdk-go for project.md generation","description":"Replace exec.CommandContext calling 'claude' CLI in internal/cli/rules/init.go:generateProjectMD with official anthropic-sdk-go package. Use Messages API directly for text generation. Eliminates subprocess overhead and CLI dependency for this operation. Keep same prompt and timeout logic.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-14T09:08:40.824274-05:00","updated_at":"2025-12-14T09:34:45.642509-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-1v4","depends_on_id":"feat-memory-base-commands-mp5","type":"blocks","created_at":"2025-12-14T09:09:12.979737-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-21q","title":"Remove claude CLI version check from status command","description":"Update internal/cli/status.go to remove Claude CLI detection. Since we're using SDK only, checking for claude binary is irrelevant. Remove claudePath lookup and version check. Could optionally add SDK connectivity check (test API key validity) instead.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-14T09:33:14.807455-05:00","updated_at":"2025-12-14T09:33:14.807455-05:00"}
{"id":"feat-memory-base-commands-2hb","title":"Reformat CLAUDE.md workflow sections to use action-oriented instructions","description":"Change Workflow Details and Agent Orchestration sections to use 'When you need to...' or 'When I ask you to...' style. Make it clear when to use each agent type and workflow phase. Use imperative commands throughout.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T15:25:44.023841-05:00","updated_at":"2025-12-12T15:28:50.535007-05:00","closed_at":"2025-12-12T15:28:50.535007-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-2hb","depends_on_id":"feat-memory-base-commands-stk","type":"related","created_at":"2025-12-12T15:26:32.08981-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-2ho","title":"Implement agent-based rule generation using anthropic-sdk-go","description":"Update internal/cli/rules/add.go:generateRuleContent to use anthropic-sdk-go Messages API for better rule generation. Create system prompt explaining mdc format and frontmatter schema. Use Claude to analyze user prompt and generate proper frontmatter + body content. Replace simple template approach.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T09:08:46.101106-05:00","updated_at":"2025-12-14T09:08:46.101106-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-2ho","depends_on_id":"feat-memory-base-commands-mp5","type":"blocks","created_at":"2025-12-14T09:09:18.112044-05:00","created_by":"ryan"},{"issue_id":"feat-memory-base-commands-2ho","depends_on_id":"feat-memory-base-commands-avq","type":"related","created_at":"2025-12-14T09:09:39.886348-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-2ij","title":"Update agentctl init to call rules init","description":"Update agentctl init command to call rules init. Remove old CLAUDE.md/AGENTS.md template installation. Keep agents, skills, settings.json, MCP config setup. Add call to rules init to setup .agent/ directory. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:39:26.059145-05:00","updated_at":"2025-12-13T13:18:47.880769-05:00","closed_at":"2025-12-13T13:18:47.880769-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-2ij","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:39:35.726813-05:00","created_by":"ryan"},{"issue_id":"feat-memory-base-commands-2ij","depends_on_id":"feat-memory-base-commands-1gu","type":"blocks","created_at":"2025-12-13T11:39:40.860549-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-2t9","title":"Add end-to-end integration test for full rules workflow","description":"Create integration test: init -\u003e add rule -\u003e list -\u003e show -\u003e sync -\u003e verify all outputs. Test AGENTDIR override. Test force flags. Ensure full workflow works correctly. Add to internal/cli/rules/","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T23:09:38.287505-05:00","updated_at":"2025-12-14T09:09:35.093425-05:00","closed_at":"2025-12-14T09:09:35.093425-05:00"}
{"id":"feat-memory-base-commands-3s9","title":"Implement tool use infrastructure for anthropic-sdk-go","description":"Create internal/anthropic package with tool use support. Implement tool definition structs, tool execution loop, and tool result handling. Support registering tools (list_directory, read_file, etc.) and executing them from Go callbacks. Handle conversation state management for multi-turn tool use. Reference: https://docs.anthropic.com/en/docs/build-with-claude/tool-use","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T09:27:53.568463-05:00","updated_at":"2025-12-14T09:27:53.568463-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-3s9","depends_on_id":"feat-memory-base-commands-mp5","type":"blocks","created_at":"2025-12-14T09:28:26.427833-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-405","title":"Update PR creation workflow to use conventional commit format in title and body","description":"Change 'When I tell you to create a pull request' section: PR title should be conventional commit headline (feat(scope): description). PR body should be conventional commit body (detailed explanation, bullet points, footers). This allows merging via GitHub UI without manual commit message editing. GitHub squash merge will use title + body as commit message.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:17:37.041474-05:00","updated_at":"2025-12-12T17:17:58.830494-05:00","closed_at":"2025-12-12T17:17:58.830494-05:00"}
{"id":"feat-memory-base-commands-4j1","title":"Verify CLAUDE.md doesn't conflict with new PR workflow","description":"Check if CLAUDE.md has any instructions about PR creation or merging. If so, update to match the new workflow: PR title = conventional commit headline, PR body = commit body. Merging can be done via GitHub UI since PR already has proper format.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:17:59.201141-05:00","updated_at":"2025-12-12T17:18:34.305418-05:00","closed_at":"2025-12-12T17:18:34.305418-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-4j1","depends_on_id":"feat-memory-base-commands-405","type":"related","created_at":"2025-12-12T17:18:13.909832-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-4po","title":"Add AGENTDIR environment variable validation","description":"Validate AGENTDIR is writable before proceeding. Check if path exists and has proper permissions. Give helpful error if directory cannot be created or written to. Reference internal/cli/rules/list.go:getAgentDir","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T23:09:27.621262-05:00","updated_at":"2025-12-14T09:08:30.402752-05:00","closed_at":"2025-12-14T09:08:30.402752-05:00"}
{"id":"feat-memory-base-commands-591","title":"Create default rules in rules/ directory","description":"Create agentctl top-level rules/ directory with default rule mdc files. Extract git workflow rules from current AGENTS.md template. Extract beads workflow rules. Extract tool selection rules. Each rule as separate mdc file with proper frontmatter. Parent: feat-memory-base-commands-cw0","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T11:35:58.469307-05:00","updated_at":"2025-12-13T11:43:59.608718-05:00","closed_at":"2025-12-13T11:43:59.608718-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-591","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:36:07.315769-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-5bs","title":"Add --use-cli flag for backwards compatibility","description":"Add optional --use-cli flag to rules init and rules add commands. When specified, falls back to shelling out to claude CLI instead of using SDK. Useful for users who prefer CLI approach or don't want to configure API key. Default should be SDK.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T09:08:56.681956-05:00","updated_at":"2025-12-14T09:33:04.235772-05:00","closed_at":"2025-12-14T09:33:04.235772-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-5bs","depends_on_id":"feat-memory-base-commands-1v4","type":"blocks","created_at":"2025-12-14T09:09:23.249215-05:00","created_by":"ryan"},{"issue_id":"feat-memory-base-commands-5bs","depends_on_id":"feat-memory-base-commands-2ho","type":"blocks","created_at":"2025-12-14T09:09:28.370706-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-5qo","title":"Implement agentctl rules list command","description":"Create rules list subcommand. Reads .agent/rules/ directory and lists all rule files. Shows rule name, description, when-to-use from frontmatter. Supports --json flag for programmatic access. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:36:43.032071-05:00","updated_at":"2025-12-13T13:18:04.058981-05:00","closed_at":"2025-12-13T13:18:04.058981-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-5qo","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:36:51.990162-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-6dz","title":"Create docs/memory-management.md documentation","description":"Create comprehensive documentation for memory management including philosophy (universal vs tool-specific), best practices, import syntax, line count recommendations, and beads integration. Per implementation plan Task 8.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:43:08.910468-05:00","updated_at":"2025-12-12T17:43:36.680206-05:00","closed_at":"2025-12-12T17:43:36.680206-05:00"}
{"id":"feat-memory-base-commands-6hb","title":"Verify embedded rules match current templates and are up to date","description":"Check rules/ directory contents match what's documented. Verify beads-workflow.mdc, git-workflow.mdc, tool-selection.mdc, etc are current and complete. Compare with internal/templates/templates/AGENTS.md to ensure no content missing. Update if needed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T23:09:43.623385-05:00","updated_at":"2025-12-14T09:05:18.592519-05:00","closed_at":"2025-12-14T09:05:18.592519-05:00"}
{"id":"feat-memory-base-commands-6rf","title":"Remove memory command tree entirely","description":"Delete internal/cli/memory/ directory and all memory commands. Remove memory.NewMemoryCmd() from internal/cli/root.go. This was never released so no backwards compatibility needed. Clean removal of deprecated code.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T23:09:06.250328-05:00","updated_at":"2025-12-14T08:55:07.09073-05:00","closed_at":"2025-12-14T08:55:07.09073-05:00"}
{"id":"feat-memory-base-commands-73l","title":"Remove old template installation from init command","description":"internal/setup/init.go still references old AGENTS.md/CLAUDE.md template installation. These files are now generated by rules sync. Remove template installation logic, keep only agents/skills/settings/MCP setup. Reference internal/cli/init.go integration.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T23:09:48.955384-05:00","updated_at":"2025-12-14T09:04:58.932052-05:00","closed_at":"2025-12-14T09:04:58.932052-05:00"}
{"id":"feat-memory-base-commands-7us","title":"Implement agentctl rules remove command","description":"Create rules remove subcommand. Takes rule name/filename as argument. Removes rule file from .agent/rules/. Prompts for confirmation unless --force flag used. Supports removing multiple rules at once. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:37:40.564546-05:00","updated_at":"2025-12-13T13:18:21.530696-05:00","closed_at":"2025-12-13T13:18:21.530696-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7us","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:37:49.533778-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-7vp","title":"Implement agentctl memory command tree","description":"Implement new agentctl memory command tree to manage AGENTS.md and CLAUDE.md following cross-platform standards. See .claude/research/2025-12-12-memory-command-implementation-plan.md for full design.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-12T14:33:25.617978-05:00","updated_at":"2025-12-12T14:37:24.436911-05:00"}
{"id":"feat-memory-base-commands-7vp.1","title":"Research and design memory file structure","description":"Determine what content goes in AGENTS.md vs CLAUDE.md, define templates for each, establish import mechanism","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T14:33:48.508862-05:00","updated_at":"2025-12-12T16:10:41.228548-05:00","closed_at":"2025-12-12T16:10:41.228548-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7vp.1","depends_on_id":"feat-memory-base-commands-7vp","type":"parent-child","created_at":"2025-12-12T14:33:48.509445-05:00","created_by":"daemon"}]}
{"id":"feat-memory-base-commands-7vp.2","title":"Create AGENTS.md template with universal agent instructions","description":"Extract universal agent content from current CLAUDE.md (workspaces, git workflow, hooks, rules, repo context, tool selection). Exclude beads instructions except for onboard reference. No .claude/plans references.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T14:33:54.026338-05:00","updated_at":"2025-12-12T15:20:17.735168-05:00","closed_at":"2025-12-12T15:20:17.735168-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7vp.2","depends_on_id":"feat-memory-base-commands-7vp","type":"parent-child","created_at":"2025-12-12T14:33:54.026827-05:00","created_by":"daemon"}]}
{"id":"feat-memory-base-commands-7vp.3","title":"Create CLAUDE.md template with Claude Code specific instructions","description":"Include @AGENTS.md import, Claude-specific orchestration patterns, agent selection table, tool access patterns, workflow details. Ensure consistency with beads methodology.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T14:33:59.091053-05:00","updated_at":"2025-12-12T15:21:34.547167-05:00","closed_at":"2025-12-12T15:21:34.547167-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7vp.3","depends_on_id":"feat-memory-base-commands-7vp","type":"parent-child","created_at":"2025-12-12T14:33:59.091558-05:00","created_by":"daemon"}]}
{"id":"feat-memory-base-commands-7vp.4","title":"Implement agentctl memory init command","description":"Create new Go command that initializes AGENTS.md and CLAUDE.md from templates. Should install both files with proper import syntax, handle existing files, support --force flag.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T14:34:04.276223-05:00","updated_at":"2025-12-12T15:22:43.013238-05:00","closed_at":"2025-12-12T15:22:43.013238-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7vp.4","depends_on_id":"feat-memory-base-commands-7vp","type":"parent-child","created_at":"2025-12-12T14:34:04.276694-05:00","created_by":"daemon"}]}
{"id":"feat-memory-base-commands-7vp.5","title":"Implement additional agentctl memory commands","description":"Design and implement memory update, memory show, memory validate commands. Consider what operations users need for managing agent memory files.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T14:34:09.793201-05:00","updated_at":"2025-12-12T16:30:09.850278-05:00","closed_at":"2025-12-12T16:30:09.850278-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7vp.5","depends_on_id":"feat-memory-base-commands-7vp","type":"parent-child","created_at":"2025-12-12T14:34:09.793655-05:00","created_by":"daemon"}]}
{"id":"feat-memory-base-commands-7vp.6","title":"Refactor agentctl init to remove CLAUDE.md management","description":"Remove Step 1 (Install CLAUDE.md) and Step 6 (Index Repository) from init command. Keep only deterministic setup: agents, skills, settings.json, MCP config. Update init to call memory init.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T14:34:15.907222-05:00","updated_at":"2025-12-12T15:29:23.032509-05:00","closed_at":"2025-12-12T15:29:23.032509-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7vp.6","depends_on_id":"feat-memory-base-commands-7vp","type":"parent-child","created_at":"2025-12-12T14:34:15.907775-05:00","created_by":"daemon"}]}
{"id":"feat-memory-base-commands-7vp.7","title":"Add repository indexing command","description":"Extract repository indexing logic from init into separate command (agentctl memory index or similar). Make it standalone, callable by users or from init.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T14:34:20.864184-05:00","updated_at":"2025-12-12T16:30:34.166637-05:00","closed_at":"2025-12-12T16:30:34.166637-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7vp.7","depends_on_id":"feat-memory-base-commands-7vp","type":"parent-child","created_at":"2025-12-12T14:34:20.864831-05:00","created_by":"daemon"}]}
{"id":"feat-memory-base-commands-7vp.8","title":"Update documentation and tests","description":"Update README and docs to reflect new memory command. Add tests for memory init, template installation, import syntax. Update init tests to reflect simplified behavior.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T14:34:27.387628-05:00","updated_at":"2025-12-12T16:30:59.244156-05:00","closed_at":"2025-12-12T16:30:59.244156-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-7vp.8","depends_on_id":"feat-memory-base-commands-7vp","type":"parent-child","created_at":"2025-12-12T14:34:27.3881-05:00","created_by":"daemon"}]}
{"id":"feat-memory-base-commands-8ze","title":"Improve AGENTS.md and CLAUDE.md generation with better formatting","description":"Generated files are too simple. AGENTS.md should have better TOC format with sections. CLAUDE.md should include better skill descriptions and usage examples. Make generated files more useful for agents. Reference internal/cli/rules/sync.go:syncToAGENTSMD and syncToCLAUDEMD","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T23:09:32.961418-05:00","updated_at":"2025-12-14T09:08:58.110965-05:00","closed_at":"2025-12-14T09:08:58.110965-05:00"}
{"id":"feat-memory-base-commands-915","title":"Design .agent directory structure and rule file format","description":"Define .agent/ directory structure: rules/ (mdc files with frontmatter), research/ (research artifacts), project.md (high-level repo description). Design mdc frontmatter schema for rules (name, description, when-to-use, applies-to, etc). Document AGENTDIR environment variable override. Parent: feat-memory-base-commands-cw0","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T11:35:38.777486-05:00","updated_at":"2025-12-13T11:43:23.233397-05:00","closed_at":"2025-12-13T11:43:23.233397-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-915","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:35:48.144926-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-9lo","title":"Add additional repository analysis tools","description":"Add optional tools for deeper analysis: search_files (grep functionality), get_file_info (size, permissions, last modified), list_git_files (only tracked files). Make these opt-in via config. Could improve project.md quality for complex repos.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-14T09:28:14.706456-05:00","updated_at":"2025-12-14T09:28:14.706456-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-9lo","depends_on_id":"feat-memory-base-commands-vs7","type":"blocks","created_at":"2025-12-14T09:28:52.040827-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-9qi","title":"Reformat AGENTS.md Workspaces section to use action-oriented instructions","description":"Change Workspaces section to 'When I tell you to use a workspace...' style. Make it clear what commands to use in different scenarios. Add 'When I tell you to create/delete/show a workspace' subsections.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T15:26:04.646506-05:00","updated_at":"2025-12-12T16:11:03.239906-05:00","closed_at":"2025-12-12T16:11:03.239906-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-9qi","depends_on_id":"feat-memory-base-commands-stk","type":"related","created_at":"2025-12-12T15:26:42.342085-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-a3j","title":"Check for existing Claude skills before sync to avoid overwrites","description":"sync command should check if .claude/skills/\u003cname\u003e/SKILL.md exists and has manual modifications before overwriting. Add --force flag to override. Warn user if skills would be overwritten. Reference internal/cli/rules/sync.go:syncToClaudeSkills","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-13T23:09:22.307538-05:00","updated_at":"2025-12-14T08:56:11.199679-05:00","closed_at":"2025-12-14T08:56:11.199679-05:00"}
{"id":"feat-memory-base-commands-aoy","title":"Reformat AGENTS.md Rules section to use action-oriented instructions","description":"Change the 24 numbered rules from passive/descriptive style to direct commands. Instead of 'Verify Information: Always verify...' use 'Always verify information before presenting it.' Make every rule a direct instruction to the agent.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T15:25:54.42149-05:00","updated_at":"2025-12-12T16:10:53.401398-05:00","closed_at":"2025-12-12T16:10:53.401398-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-aoy","depends_on_id":"feat-memory-base-commands-stk","type":"related","created_at":"2025-12-12T15:26:37.21442-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-avq","title":"Update rules add command to spawn agent for rule generation","description":"Current add command uses simple template. Should spawn agent with system prompt about rule format/frontmatter to generate better rules. Agent should analyze prompt and create appropriate frontmatter + body content. Reference internal/cli/rules/add.go:generateRuleContent","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T23:09:11.626046-05:00","updated_at":"2025-12-14T09:06:12.077774-05:00","closed_at":"2025-12-14T09:06:12.077774-05:00"}
{"id":"feat-memory-base-commands-beu","title":"Reformat AGENTS.md Tool Selection Guidelines to use action-oriented instructions","description":"Change Tool Selection Guidelines from explanatory style to direct instructions. Use 'Always use Read tool for...' instead of 'File Reading â†’ Use Read tool'. Reformat When Bash is Acceptable, File Deletion, Command Sequencing sections as 'When you need to...' instructions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T15:26:15.750023-05:00","updated_at":"2025-12-12T16:11:22.586259-05:00","closed_at":"2025-12-12T16:11:22.586259-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-beu","depends_on_id":"feat-memory-base-commands-stk","type":"related","created_at":"2025-12-12T15:26:47.470058-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-bi3","title":"Update setup/init_test.go to reflect simplified init behavior","description":"Update init tests to reflect that init no longer installs CLAUDE.md or indexes repository. Tests should verify agents, skills, settings, MCP config, and memory files are installed correctly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:43:09.361813-05:00","updated_at":"2025-12-12T17:44:15.40479-05:00","closed_at":"2025-12-12T17:44:15.40479-05:00"}
{"id":"feat-memory-base-commands-ciy","title":"Implement agentctl rules show command","description":"Create rules show subcommand. Takes rule name/filename as argument. Displays full rule content including frontmatter and body. Pretty-prints frontmatter metadata. Supports --raw flag to output raw mdc. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:37:02.2983-05:00","updated_at":"2025-12-13T13:18:16.134667-05:00","closed_at":"2025-12-13T13:18:16.134667-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-ciy","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:37:11.087581-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-cpq","title":"Remove internal/templates/templates/ directory containing old AGENTS.md and CLAUDE.md","description":"The internal/templates/templates/AGENTS.md and CLAUDE.md files are no longer used since rules system generates these. Remove the entire internal/templates/templates/ directory. Keep internal/templates/ for other templates if needed (agents, skills). Clean up unused code.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T23:10:04.990198-05:00","updated_at":"2025-12-14T09:05:07.998302-05:00","closed_at":"2025-12-14T09:05:07.998302-05:00"}
{"id":"feat-memory-base-commands-cw0","title":"Replace memory command tree with rules command tree","description":"Replace agentctl memory commands with new agentctl rules system. Uses .agent directory (or AGENTDIR env var) with rules/, research/ subdirs and project.md. Rules are mdc files with frontmatter. Commands: init, list, add, remove, show, sync. Sync installs to .cursor/rules and .claude/skills, generates AGENTS.md TOC and simple CLAUDE.md.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-13T11:35:18.703287-05:00","updated_at":"2025-12-14T09:31:24.532476-05:00","closed_at":"2025-12-14T09:31:24.532476-05:00"}
{"id":"feat-memory-base-commands-dwz","title":"Remove CLI fallback logic from rules commands","description":"Ensure no CLI fallback in rules commands. Remove exec.LookPath('claude') checks in internal/cli/rules/add.go:generateRuleContent. Remove generateRuleContentWithAgent function. Only use SDK-based generation. If SDK fails (no API key, network error), show clear error message directing user to configure ANTHROPIC_API_KEY. No silent fallback to templates.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T09:33:09.514264-05:00","updated_at":"2025-12-14T09:33:09.514264-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-dwz","depends_on_id":"feat-memory-base-commands-2ho","type":"blocks","created_at":"2025-12-14T09:33:37.781567-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-egc","title":"Simplify PR merge workflow to rely on GitHub UI merge capability","description":"Update 'When I tell you to merge a pull request' section: Remove agent-side merge instructions. Instead, explain that GitHub is configured to use PR title + body as squash merge commit message. Agent should verify PR checks pass and remind user they can merge via GitHub UI or use 'gh pr merge \u003cnumber\u003e --squash --delete-branch' command. No manual commit message crafting needed.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:17:48.208529-05:00","updated_at":"2025-12-12T17:18:33.257449-05:00","closed_at":"2025-12-12T17:18:33.257449-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-egc","depends_on_id":"feat-memory-base-commands-405","type":"blocks","created_at":"2025-12-12T17:18:08.738579-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-h75","title":"Implement agentctl rules sync command - Claude skills generation","description":"Create rules sync subcommand for Claude. Converts each .agent/rules/*.mdc to .claude/skills/\u003cname\u003e/ directory with SKILL.md. Claude skills are directories with SKILL.md that agents can invoke. Converts frontmatter to Claude skill format. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:38:19.532492-05:00","updated_at":"2025-12-13T14:58:18.775176-05:00","closed_at":"2025-12-13T14:58:18.775176-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-h75","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:38:28.737721-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-i6k","title":"Implement agentctl rules sync command - AGENTS.md TOC generation","description":"Create rules sync to generate AGENTS.md as TOC. For non-Cursor/Claude agents, AGENTS.md lists available rules with name, description, when-to-use. Points to .agent/rules/ directory. Simple markdown table or list format. Includes project.md content at top. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:38:41.378934-05:00","updated_at":"2025-12-13T14:58:19.133742-05:00","closed_at":"2025-12-13T14:58:19.133742-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-i6k","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:38:49.930312-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-ihj","title":"Add rules sync dry-run mode","description":"Add --dry-run flag to sync command that shows what would be changed without actually writing files. Useful for seeing what sync will do before committing. Show diffs of generated files vs existing.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-13T23:09:59.628498-05:00","updated_at":"2025-12-13T23:09:59.628498-05:00"}
{"id":"feat-memory-base-commands-l1i","title":"Create beads workflow rule in rules/ directory","description":"Extract beads workflow content from current AGENTS.md (lines 7-119) into a standalone rules/beads.mdc file with proper frontmatter. Include quick start, issue types, priorities, workflow, auto-sync, MCP integration. This will be a default rule installed by rules init. Parent: feat-memory-base-commands-cw0","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T12:07:05.69119-05:00","updated_at":"2025-12-13T16:24:59.453331-05:00","closed_at":"2025-12-13T16:24:59.453331-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-l1i","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T12:07:16.525528-05:00","created_by":"ryan"},{"issue_id":"feat-memory-base-commands-l1i","depends_on_id":"feat-memory-base-commands-591","type":"related","created_at":"2025-12-13T12:07:21.645518-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-m3f","title":"Add comprehensive tests for memory commands","description":"Add test files for show, validate, and index commands. Create tests for import resolution, validation logic, and indexing functionality. Per implementation plan Task 8.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:43:08.640239-05:00","updated_at":"2025-12-12T17:43:59.534053-05:00","closed_at":"2025-12-12T17:43:59.534053-05:00"}
{"id":"feat-memory-base-commands-mhs","title":"Update documentation to reflect SDK-only approach","description":"Update README and docs to remove any mentions of requiring Claude CLI for agentctl. Document ANTHROPIC_API_KEY requirement instead. Add setup instructions for getting API key from console.anthropic.com. Remove any CLI installation instructions related to agentctl functionality.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-14T09:33:20.080806-05:00","updated_at":"2025-12-14T09:33:20.080806-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-mhs","depends_on_id":"feat-memory-base-commands-dwz","type":"related","created_at":"2025-12-14T09:33:48.017717-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-mp5","title":"Add anthropic-sdk-go dependency and configuration","description":"Add github.com/anthropics/anthropic-sdk-go to go.mod. Create helper package for SDK initialization (reads ANTHROPIC_API_KEY). Add graceful fallback if API key not configured. Document setup in README. This is prerequisite for other SDK integration tasks.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T09:08:51.377393-05:00","updated_at":"2025-12-14T09:31:49.917491-05:00","closed_at":"2025-12-14T09:31:49.917491-05:00"}
{"id":"feat-memory-base-commands-mpj","title":"Add validation for rule frontmatter schema","description":"Validate required fields in frontmatter: name, description, when-to-use must be non-empty. Priority must be 0-4. Version should follow semver. Add validation in parseRuleMetadata and generate helpful error messages. Reference internal/cli/rules/list.go:parseRuleMetadata","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T23:09:16.963821-05:00","updated_at":"2025-12-14T09:07:38.801947-05:00","closed_at":"2025-12-14T09:07:38.801947-05:00"}
{"id":"feat-memory-base-commands-n7y","title":"Add tool use execution logging and limits","description":"Add logging for tool executions (which tools called, paths accessed, results). Implement safety limits: max tool calls per session (prevent infinite loops), max file size for read_file, max directory depth for list_directory. Add --verbose flag to show tool execution details during rules init.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-14T09:28:09.41882-05:00","updated_at":"2025-12-14T09:28:09.41882-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-n7y","depends_on_id":"feat-memory-base-commands-tix","type":"blocks","created_at":"2025-12-14T09:28:46.921033-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-otw","title":"Implement agentctl rules add command","description":"Create rules add subcommand. Accepts prompt describing the rule to create. Spawns agent with system prompt about rule format/frontmatter. Agent generates mdc file with proper frontmatter. Saves to .agent/rules/. Validates frontmatter schema. Supports --name flag to specify filename. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:37:22.511268-05:00","updated_at":"2025-12-13T14:58:49.602182-05:00","closed_at":"2025-12-13T14:58:49.602182-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-otw","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:37:31.222182-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-s3u","title":"Deprecate old memory command tree","description":"Remove or deprecate old agentctl memory commands (init, show, validate, index). Update any references in documentation. Add migration guide from old memory system to new rules system. Parent: feat-memory-base-commands-cw0","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T11:40:12.238593-05:00","updated_at":"2025-12-13T16:24:50.38946-05:00","closed_at":"2025-12-13T16:24:50.38946-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-s3u","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:40:21.107744-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-ssk","title":"Implement agentctl rules sync command - Cursor integration","description":"Create rules sync subcommand for Cursor. Copies .agent/rules/*.mdc to .cursor/rules/ (Cursor's format). Cursor rules are mdc files that get loaded automatically. No TOC generation needed for Cursor. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:37:59.940978-05:00","updated_at":"2025-12-13T14:58:12.974604-05:00","closed_at":"2025-12-13T14:58:12.974604-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-ssk","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:38:09.044151-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-stf","title":"Implement agentctl rules sync command - CLAUDE.md generation","description":"Create rules sync to generate simple CLAUDE.md. No @AGENTS.md import. Contains project.md content and simple list of available .claude/skills with when to use them. Claude Code reads skills automatically from .claude/skills/, so CLAUDE.md just needs overview. Respects AGENTDIR env var. Parent: feat-memory-base-commands-cw0","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T11:39:00.78739-05:00","updated_at":"2025-12-13T14:58:20.183381-05:00","closed_at":"2025-12-13T14:58:20.183381-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-stf","depends_on_id":"feat-memory-base-commands-cw0","type":"parent-child","created_at":"2025-12-13T11:39:09.847884-05:00","created_by":"ryan"},{"issue_id":"feat-memory-base-commands-stf","depends_on_id":"feat-memory-base-commands-h75","type":"blocks","created_at":"2025-12-13T11:39:14.986849-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-stk","title":"Reformat AGENTS.md Git workflow section to use action-oriented instructions","description":"Change Git workflow sections from documentation style to 'When I tell you to...' instruction style. Sections to update: Committing Changes, Creating Branches, Merging Local Branches, Creating Pull Requests, Merging Pull Requests. Make it clear what action triggers each workflow and use imperative commands.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T15:25:34.343373-05:00","updated_at":"2025-12-12T15:28:32.085167-05:00","closed_at":"2025-12-12T15:28:32.085167-05:00"}
{"id":"feat-memory-base-commands-tix","title":"Replace generateProjectMD CLI call with tool use approach","description":"Update internal/cli/rules/init.go:generateProjectMD to use anthropic-sdk-go with tool use instead of exec.CommandContext. Register list_directory and read_file tools. Run agentic loop where Claude explores repo and generates project.md. Keep same prompt and timeout. Remove claude CLI dependency for this operation.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T09:28:04.138866-05:00","updated_at":"2025-12-14T09:28:04.138866-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-tix","depends_on_id":"feat-memory-base-commands-vs7","type":"blocks","created_at":"2025-12-14T09:28:36.667929-05:00","created_by":"ryan"},{"issue_id":"feat-memory-base-commands-tix","depends_on_id":"feat-memory-base-commands-1v4","type":"related","created_at":"2025-12-14T09:28:41.792756-05:00","created_by":"ryan"}]}
{"id":"feat-memory-base-commands-vs7","title":"Implement repository exploration tools for SDK","description":"Create list_directory and read_file tools for anthropic SDK. list_directory: lists files/dirs in path with type indicators. read_file: reads file contents with size limits. Add path validation to ensure access only within repo root. Add .gitignore respect. Add binary file detection to skip non-text files. Reference internal/anthropic package.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T09:27:58.857046-05:00","updated_at":"2025-12-14T09:27:58.857046-05:00","dependencies":[{"issue_id":"feat-memory-base-commands-vs7","depends_on_id":"feat-memory-base-commands-3s9","type":"blocks","created_at":"2025-12-14T09:28:31.548064-05:00","created_by":"ryan"}]}
